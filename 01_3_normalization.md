# Normalization (정규화) 란?
### 정규화란?
* 관계형데이터베이스에서 데이터 모델의 중복을 최소화하고, 데이터의 일관성과 유연성을 확보하기 위해 릴레이션을 분해하는 과정
* 데이터를 더 효율적으로 관리하기 위함

<br>
<hr>

# 제 1정규화
테이블의 컬럼이 원자값(Atomic Value)을 갖도록 만드는 것.<br>
<br>
제 1정규형

* 각 컬럼은 하나의 값을 가져야 한다.
* 하나의 컬럼은 같은 타입을 가져야 한다.
* 컬럼의 순서가 상관없어야 한다.

<br>

### **정규화 전**

<br>
메뉴 컬럼의 각 행에 각 가게에서 판매하는 메뉴들이 나열되어있다.

<br>
- MENU 테이블

|가게이름|메뉴|
|---|---|
|강서성|짬뽕, 볶음밥, 탕수육|
|혜화면옥|갈비찜, 물냉면, 비빔냉면|

<br>

### **정규화 후(제 1정규형)**

<br>
메뉴 컬럼의 각 행에 하나의 메뉴가 들어간다.

<br>
- MENU 테이블

|가게이름|메뉴|
|---|---|
|강서성|짬뽕|
|강서성|볶음밥|
|강서성|탕수육|
|혜화면옥|갈비찜|
|혜화면옥|물냉면|
|혜화면옥|비빔냉면|

<br>
<hr>

# 제 2정규화
제 2정규형
* 제 1정규형을 만족한다.
* 모든 컬럼이 완전 함수 종속을 만족해야 한다. 즉, 부분종속성이 없어야 한다.
<br>
->  부분종속성: 기본키 중 특정 컬럼에만 종속되는 것
* PK가 복합키가 아닌 경우는 제 2정규화가 필요 없다.

<br>

### **정규화 전**

<br>
아래의 경우 가격은 ID와 메뉴에 종속된다.
하지만 가게이름, 업주는 ID에만 종속된다.

<br>
- MENU 테이블

|ID|가게이름|업주|메뉴|가격|
|---|---|---|---|---|
|01|강서성|퉁퉁이|짬뽕|9000|
|01|강서성|퉁퉁이|탕수육|15000|
|01|강서성|퉁퉁이|볶음밥|10000|
|02|취복루|비실이|짬뽕|10000|
|02|취복루|비실이|짜장면|9000|
|02|취복루|비실이|탕수육|18000|

<br>

### **정규화 후(제 2정규형)**

* RESTAURATN 테이블에서는 가게이름과 업주가 ID에만 의존한다.
* MENU테이블에서는 가격이 ID와 메뉴에 의존한다. (완전종속)

<br>
- RESTAURANT 테이블

|ID(pk)|가게이름|업주|
|---|---|---|
|01|강서성|퉁퉁이|
|02|취복루|비실이|

<br>
- MENU 테이블

|ID(pk)|메뉴(pk)|가격|
|---|---|---|
|01|짬뽕|9000|
|01|탕수육|15000|
|01|볶음밥|10000|
|02|짬뽕|10000|
|02|짜장면|9000|
|02|탕수육|18000|

<br>
<hr>

# 제 3정규화
제 3정규형
* 제 2정규형을 만족한다.
* 기본키를 제외한 속성들 간의 이행종속성(Transitive Dependency)이 없어야 한다.
<br>
-> 이행종속성: A->B, B->C일 때 A->C가 성립하는 것.

<br>

### **정규화 전**
아래의 경우 ID를 알면 가게이름을 알 수 있고, 가게이름을 알면 업주를 알 수 있다.
<br>그 결과 ID를 알면 업주를 알 수 있다.

<br>
- RESTAURANT 테이블

|ID|가게이름|업주|
|---|---|---|
|01|강서성|퉁퉁이|
|02|취복루|비실이|

<br>

### **정규화 후(제 3정규형)**

<br>
- RESTAURANT 테이블

|ID(pk)|가게이름|
|---|---|
|01|강서성|
|02|취복루|

<br>
- OWNER 테이블

|가게이름(pk)|업주|
|---|---|
|강서성|퉁퉁이|
|취복루|비실이|

<hr>